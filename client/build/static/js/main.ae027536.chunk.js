(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/chevron-down.8ebe8b51.svg"},,,,,,function(e,t,a){e.exports=a.p+"static/media/money2.3879cb4e.svg"},,function(e,t,a){e.exports=a.p+"static/media/arrow-left.cc7b2b17.svg"},function(e,t,a){e.exports=a.p+"static/media/tag.2b9ed8da.svg"},,,,function(e,t,a){e.exports=a.p+"static/media/arrow-big-right.bc174e30.svg"},function(e,t,a){e.exports=a.p+"static/media/logo.64af5a29.svg"},,,,function(e,t,a){e.exports=a.p+"static/media/ellipsis-horizontal.59c12fbf.svg"},,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA80lEQVRIie2PMVKDUBRFz2Ns4gbEddjpZwXAOtQixGQfiWDjuA5lBZKtEPr0XotM1Ml85DNjYcHtYO47536Y8pdpM7fdZe59zM3ZmLLB9bhJEI09mAST4B8J2vzqPBTyW9craDO3Ms32XZrMh+BdmsxNs32bJ8tggZkiIJKp6nJX9MJzV8hUAZF9yMvy/oxft2tBBZhE2WVucdpp85tbifKwh5e4bjbesX3rBLbL3KPBApDBUlACyHRnsucj/KJu7g00SvBDUhoUh8+vvgATPF2+NQ998EGB5yXfhwPLgwU+SSg8WHCUdKlbAcR1swmBTwnKJ5DyXi9v2yReAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA+UlEQVRIie2VMW7CQBBF36A0HAEnJaegBJ8hFyDIojEROQcSokFINgfIGdhUUU4S2UegMpMCHAys1xuR0q8cj/+b1Y5saGlAvDtVJfhI3wCy4XiBiPq89uAdbrZLIAbombSfq059JM0n+A3X+KIMm3w0bpR0/hBeDVKBKDDbJarOIesFN+H6Wpl+eqrFPZOuXRK7wBKehZNV+TgPXzalRCBySayC47bYw6uS06lUIHo0ydxbIAcKoEBlZgsvycLJCpUZUBykU9T1WXn6eu9e14JdosEuudkaW29J7SV/D573vsO4et1r+g+0glZwP37/gzOfXH5VW+7nB9VcdJV0C2p0AAAAAElFTkSuQmCC"},function(e,t,a){e.exports=a.p+"static/media/no-transactions.34ffe3db.png"},,,function(e,t,a){e.exports=a.p+"static/media/credit-card.d9618088.png"},function(e,t,a){e.exports=a.p+"static/media/pen.104bf02c.svg"},function(e,t,a){e.exports=a.p+"static/media/home.8f23844b.svg"},function(e,t,a){e.exports=a.p+"static/media/chart.7539fa18.svg"},function(e,t,a){e.exports=a.p+"static/media/category.57663764.svg"},,function(e,t,a){e.exports=a(76)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(23),s=a.n(r),o=(a(52),a(4)),l=a(14),i=a(36),m=a.n(i),u=a(37),p=a.n(u),_=(a(53),function(e){var t=e.transactions,a=(void 0===t?[]:t).map((function(e){var t=e.sum,a=e.comment,n=e.operation,r=e.category,s=e.source,o=e.date,l=e._id;return c.a.createElement("li",{key:l,className:"transaction-item"},c.a.createElement("div",{className:"transaction-item__arrow-wrap"},"\u0440\u0430\u0441\u0445\u043e\u0434\u044b"===n?c.a.createElement("img",{className:"transaction-item__arrow",src:m.a,alt:""}):c.a.createElement("img",{className:"transaction-item__arrow",src:p.a,alt:""})),c.a.createElement("div",{className:"transaction-item__col"},c.a.createElement("p",{className:"transaction-item__date"},o),c.a.createElement("p",{className:"transaction-item__title"},a)),c.a.createElement("div",{className:"transaction-item__col"},"\u0440\u0430\u0441\u0445\u043e\u0434\u044b"===n?c.a.createElement("p",{className:"transaction-item__price"},"-",t):c.a.createElement("p",{className:"transaction-item__price  green"},"+",t),c.a.createElement("p",{className:"transaction-item__category"},"#",r),c.a.createElement("p",{className:"transaction-item__sources"},s)))}));return c.a.createElement(c.a.Fragment,null,a)}),E=a(38),d=a.n(E),b=(a(54),function(e){var t=e.data,a=void 0===t?[]:t,n=0===a.length;return c.a.createElement("div",{className:"transactions"},c.a.createElement("div",{className:"title-wrap"},c.a.createElement("h2",null,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438"),c.a.createElement(o.b,{className:"btn-add",to:"/create"},"+")),n?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"\u0412\u044b \u043d\u0435 \u043f\u0440\u043e\u0432\u0435\u043b\u0438 \u0435\u0449\u0451 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438"),c.a.createElement("img",{className:"no-list",src:d.a,alt:""})):c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{className:"transactions__list"},c.a.createElement(_,{transactions:a})),c.a.createElement("div",{className:"form__row"},c.a.createElement("div",{className:"form__item"},c.a.createElement(o.b,{className:"button medium secondary",to:"/transactions"},"\u0412\u0441\u0435 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438")))))}),f=a(15),N=a.n(f),g=a(18),v=a.n(g),h=a(25),w=a.n(h),O=function(e){var t=e.sources,a=void 0===t?[]:t,n=a&&a.map((function(e){var t=e.title,a=e.total,n=e._id;return c.a.createElement("li",{key:n,className:"sources-item"},c.a.createElement("img",{className:"sources-item__icon",src:v.a,alt:""}),c.a.createElement("p",{className:"sources-item__title"},t),c.a.createElement("div",{className:"sources-item__total"},a," \u0440\u0443\u0431"),c.a.createElement(o.b,{to:"/sources/".concat(n),className:"new-transaction__btn"},c.a.createElement("img",{className:"new-transaction__icon",src:w.a,alt:""})))}));return a?c.a.createElement(c.a.Fragment,null,n):c.a.createElement("p",null,"\u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442")},j=a(41),k=a.n(j),x=(a(60),function(e){var t=e.data,a=void 0===t?[]:t,n=a.length>5,r=0===a.length;return c.a.createElement("div",{className:"sources"},c.a.createElement("div",{className:"title-wrap"},c.a.createElement("h2",null,"\u0412\u0430\u0448\u0438 \u0441\u0447\u0435\u0442\u0430"),c.a.createElement(o.b,{className:"btn-add",to:"/create-source"},"+")),r?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"\u0412\u044b \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u0435\u0449\u0451 \u043d\u0438 \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u0447\u0451\u0442\u0430"),c.a.createElement("img",{className:"no-list",src:k.a,alt:""})):c.a.createElement("ul",{className:N()({sources__list:!0,scroll:n})},c.a.createElement(O,{sources:a})))}),A=a(2),y=a.n(A),C=a(3),S=a(6);function B(){}var L=Object(n.createContext)({token:null,userId:null,login:B,logout:B,isAuthenticated:!1,email:null});function I(){var e=c.a.useContext(L),t=e.token,a=e.logout;return Object(S.c)("sources",Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/sources",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.ok?e.json():a()})).catch((function(e){throw new Error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))}var F=function(){var e=I(),t=e.data,a=e.isLoading,n=e.error,r=function(){var e=c.a.useContext(L),t=e.token,a=e.logout;return Object(S.c)("transactions",Object(C.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/transaction",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.ok?e.json():a()})).catch((function(e){throw new Error(e)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))}(),s=r.data,o=r.isLoading,l=r.error;return o||a?c.a.createElement("p",{className:"loading"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."):l?c.a.createElement("p",null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439"):n?c.a.createElement("p",null,"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u0447\u0435\u0442\u043e\u0432"):c.a.createElement("div",{className:"page  home-page"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"page__inner"},c.a.createElement(b,{data:s}),c.a.createElement(x,{data:t}))))},P=a(8),D=a(1),z=a(16),T=function(){var e=Object(n.useState)(!1),t=Object(D.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(D.a)(r,2),o=s[0],l=s[1];return{loading:a,request:Object(n.useCallback)(function(){var e=Object(C.a)(y.a.mark((function e(t){var a,n,r,s,o,i=arguments;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=i.length>1&&void 0!==i[1]?i[1]:"GET",n=i.length>2&&void 0!==i[2]?i[2]:null,r=i.length>3&&void 0!==i[3]?i[3]:{},c(!0),e.prev=4,n&&(n=JSON.stringify(n),r["Content-Type"]="application/json"),e.next=8,fetch(t,{method:a,body:n,headers:r});case 8:return s=e.sent,e.next=11,s.json();case 11:if(o=e.sent,s.ok){e.next=14;break}throw new Error(o.message||"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 14:return c(!1),e.abrupt("return",o);case 18:throw e.prev=18,e.t0=e.catch(4),c(!1),l(e.t0.message),e.t0;case 23:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:o,clearError:Object(n.useCallback)((function(){return l(null)}),[])}};function J(){var e=c.a.useContext(L),t=e.token,a=e.logout;return Object(S.c)("categories",(function(){return fetch("/api/categories",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.ok?e.json():a()})).catch((function(e){throw new Error(e)}))}))}var q=a(12),U=a.n(q),R=a(42),Z=a.n(R),K=a(20),V=a.n(K),M=(a(62),function(){var e=Object(n.useContext)(L),t=T().request,a=Object(l.g)(),r=Object(n.useState)(!1),s=Object(D.a)(r,2),i=s[0],m=s[1],u=Object(n.useState)(!1),p=Object(D.a)(u,2),_=p[0],E=p[1],d=Object(n.useState)(!1),b=Object(D.a)(d,2),f=b[0],N=b[1],g=Object(n.useState)(!1),v=Object(D.a)(g,2),h=v[0],w=v[1],O=Object(n.useState)(""),j=Object(D.a)(O,2),k=j[0],x=j[1],A=Object(n.useState)(""),S=Object(D.a)(A,2),B=S[0],F=S[1],q=Object(n.useState)(""),R=Object(D.a)(q,2),K=R[0],M=R[1],X=Object(n.useState)(""),Q=Object(D.a)(X,2),W=Q[0],Y=Q[1],H=Object(n.useState)((new Date).toLocaleDateString()),G=Object(D.a)(H,2),$=G[0],ee=G[1],te=Object(n.useState)(""),ae=Object(D.a)(te,2),ne=ae[0],ce=ae[1],re=J(),se=re.data,oe=re.isLoading,le=re.error,ie=I(),me=ie.data,ue=ie.isLoading,pe=ie.error,_e={operation:k,source:B,sum:K,category:W,date:$,comment:ne},Ee=Object.entries(_e).filter((function(e){var t=Object(D.a)(e,2);t[0];return""===t[1]})),de=function(){var n=Object(C.a)(y.a.mark((function n(){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(Ee.length>0)){n.next=2;break}return n.abrupt("return",z.a.error("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f"));case 2:return n.next=4,t("/api/transaction/add","POST",Object(P.a)({},_e),{Authorization:"Bearer ".concat(e.token)});case 4:return n.next=6,t("/api/sources/edit-total","POST",Object(P.a)({},_e),{Authorization:"Bearer ".concat(e.token)});case 6:a.push("/home/");case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),be=function(){w(!h)};return oe||ue?"Loading...":le||pe?"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u0447\u0435\u0442\u043e\u0432":c.a.createElement("div",{className:"page  createPage"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"title-wrap"},c.a.createElement("h2",null,"\u041d\u043e\u0432\u0430\u044f \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u044f"),c.a.createElement(o.b,{className:"btn-add",to:"/home"},c.a.createElement("img",{className:"btn-add__icon",src:V.a,alt:""}))),c.a.createElement("div",{className:"new-transaction"},c.a.createElement("div",{className:"new-transaction__row"},c.a.createElement("h4",{className:"new-transaction__title"},"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"),c.a.createElement("div",{className:"new-transaction__col"},c.a.createElement("span",{className:"new-transaction__value"},k),c.a.createElement("button",{onClick:function(){m(!i)},className:"new-transaction__btn"},c.a.createElement("img",{className:"new-transaction__icon",src:U.a,alt:""}))),i&&c.a.createElement("ul",{className:"new-transaction__popup-list"},["\u0440\u0430\u0441\u0445\u043e\u0434\u044b","\u0434\u043e\u0445\u043e\u0434\u044b"].map((function(e,t){return c.a.createElement("li",{key:"".concat(e,"_").concat(t),className:"new-transaction__popup-item"},c.a.createElement("button",{onClick:function(){!function(e){x(e),m(!i)}(e)},className:"new-transaction__popup-btn"},e))})))),c.a.createElement("div",{className:"new-transaction__row"},c.a.createElement("h4",{className:"new-transaction__title"},"\u0421\u0447\u0451\u0442:"),c.a.createElement("div",{className:"new-transaction__col"},c.a.createElement("span",{className:"new-transaction__value"},B),c.a.createElement("button",{onClick:function(){E(!_)},className:"new-transaction__btn"},c.a.createElement("img",{className:"new-transaction__icon",src:U.a,alt:""}))),_&&c.a.createElement("ul",{className:"new-transaction__popup-list"},0===me.length?c.a.createElement("li",{className:"new-transaction__popup-item"},c.a.createElement(o.b,{to:"create-source",exact:!0,className:"new-transaction__popup-btn"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")):me.map((function(e,t){var a=e.title;return c.a.createElement("li",{key:"".concat(a,"_").concat(t),className:"new-transaction__popup-item"},c.a.createElement("button",{onClick:function(){F(a),E(!_)},className:"new-transaction__popup-btn"},a))})))),c.a.createElement("div",{className:"new-transaction__row"},c.a.createElement("h4",{className:"new-transaction__title"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:"),c.a.createElement("div",{className:"new-transaction__col"},c.a.createElement("span",{className:"new-transaction__value"},W),c.a.createElement("button",{onClick:function(){N(!f)},className:"new-transaction__btn"},c.a.createElement("img",{className:"new-transaction__icon",src:U.a,alt:""}))),f&&c.a.createElement("ul",{className:"new-transaction__popup-list"},0===se.length?c.a.createElement("li",{className:"new-transaction__popup-item"},c.a.createElement(o.b,{to:"create-category",exact:!0,className:"new-transaction__popup-btn"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c")):se.map((function(e,t){return c.a.createElement("li",{key:"".concat(e.title,"_").concat(t),className:"new-transaction__popup-item"},c.a.createElement("button",{onClick:function(){var t;t=e.title,Y(t),N(!f)},className:"new-transaction__popup-btn"},e.title))})))),c.a.createElement("div",{className:"new-transaction__row"},c.a.createElement("h4",{className:"new-transaction__title"},"\u0414\u0430\u0442\u0430:"),c.a.createElement("div",{className:"new-transaction__col"},h?c.a.createElement("input",{type:"text",placeholder:$,value:$,onChange:function(e){ee(e.target.value)}}):c.a.createElement("span",{className:"new-transaction__value"},$," "),h?c.a.createElement("button",{onClick:be,className:"new-transaction__btn"},"ok"):c.a.createElement("button",{onClick:be,className:"new-transaction__btn"},c.a.createElement("img",{className:"new-transaction__icon",src:Z.a,alt:""})))),c.a.createElement("div",{className:"new-transaction__row"},c.a.createElement("h4",{className:"new-transaction__title"},"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),c.a.createElement("textarea",{onChange:function(e){ce(e.target.value)},placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",value:ne})),c.a.createElement("div",{className:"new-transaction__row"},c.a.createElement("h4",{className:"new-transaction__title"},"\u0421\u0443\u043c\u043c\u0430:"),c.a.createElement("div",{className:"new-transaction__col"},c.a.createElement("input",{onChange:function(e){M(e.target.value)},type:"number",placeholder:"\u0441\u0443\u043c\u043c\u0430",value:K}),c.a.createElement("button",{onClick:de,className:"new-transaction__submit",type:"button"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"))))))}),X=a(9),Q=(a(63),function(){var e=Object(n.useContext)(L),t=T(),a=t.loading,r=t.request,s=Object(n.useState)({email:"",username:"",password:""}),o=Object(D.a)(s,2),l=o[0],i=o[1],m=function(e){i(Object(P.a)(Object(P.a)({},l),{},Object(X.a)({},e.target.name,e.target.value)))},u=function(){var t=Object(C.a)(y.a.mark((function t(){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r("/api/auth/login","POST",Object(P.a)({},l));case 3:a=t.sent,e.login(a.token,a.userId,a.email),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),z.a.error(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return c.a.createElement("div",{className:"form-box"},c.a.createElement("h2",{className:"form-box__title"},"\u0412\u0445\u043e\u0434 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"),c.a.createElement("div",{className:"form"},c.a.createElement("div",{className:"form__row"},c.a.createElement("div",{className:"form__item"},c.a.createElement("div",{className:"form__input"},c.a.createElement("input",{type:"text",id:"login-username",name:"email",placeholder:"Email",onChange:m})))),c.a.createElement("div",{className:"form__row"},c.a.createElement("div",{className:"form__item"},c.a.createElement("div",{className:"form__input"},c.a.createElement("input",{type:"password",id:"login-password",name:"password",placeholder:"Password",onChange:m})))),c.a.createElement("div",{className:"form__row"},c.a.createElement("div",{className:"form__item"},c.a.createElement("button",{onClick:u,disabled:a,className:a?"button medium color-loader-bar-8":"button medium secondary"},a?"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445":"\u0412\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442")))))}),W=a(46),Y=(a(64),function(){var e,t,a=T(),n=a.loading,r=a.request,s=Object(W.a)(),o=s.handleSubmit,l=s.register,i=s.errors,m=function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r("/api/auth/register","POST",Object(P.a)({},t));case 3:z.a.success("\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),z.a.error(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"form-box"},c.a.createElement("h2",{className:"form-box__title"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.a.createElement("form",{onSubmit:o(m),className:"form"},c.a.createElement("div",{className:"form__row"},c.a.createElement("div",{className:"form__input"},c.a.createElement("input",{name:"email",placeholder:"Email",type:"text",ref:l({required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"}})}))),c.a.createElement("div",{className:"errors"},i.email&&i.email.message),c.a.createElement("div",{className:"form__row"},c.a.createElement("div",{className:"form__input"},c.a.createElement("input",{name:"username",placeholder:"\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",type:"text",ref:l({required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",minLength:4})}))),c.a.createElement("div",{className:"errors"},i.username&&i.username.message,"minLength"===(null===(e=i.username)||void 0===e?void 0:e.type)&&"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 = 4"),c.a.createElement("div",{className:"form__row"},c.a.createElement("div",{className:"form__input"},c.a.createElement("input",{name:"password",placeholder:"Password",type:"password",ref:l({required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435",minLength:6})}))),c.a.createElement("div",{className:"errors"},i.username&&i.username.message,"minLength"===(null===(t=i.password)||void 0===t?void 0:t.type)&&"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 = 6"),c.a.createElement("div",{className:"form__row"},c.a.createElement("button",{type:"submit",disabled:n,className:n?"button medium color-loader-bar-8":"button medium secondary"},n?"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445":"\u0417\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"))))}),H=a(26),G=a.n(H),$=(a(65),function(){var e=Object(n.useState)("loginForm"),t=Object(D.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(0),o=Object(D.a)(s,2),l=o[0],i=o[1];return c.a.createElement("div",{className:"auth"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"auth__inner"},c.a.createElement("div",{className:"auth__decoration"}),c.a.createElement("div",{className:"auth__content"},c.a.createElement("div",{className:"logo  auth__logo"},c.a.createElement("img",{className:"logo__img",src:G.a,alt:"logo"})),c.a.createElement("h2",{className:"auth__subtitle"},"Welcome to"),c.a.createElement("h1",{className:"auth__title"},"Finance"),c.a.createElement("p",{className:"auth__text"},"\u0414\u0430\u043d\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043f\u043e\u043c\u043e\u0436\u0435\u0442 \u0432\u0430\u043c \u0432\u0435\u0441\u0442\u0438 \u0443\u0447\u0451\u0442 \u0440\u0430\u0441\u0445\u043e\u0434\u043e\u0432 \u0438 \u0434\u043e\u0445\u043e\u0434\u043e\u0432"),c.a.createElement("div",{className:"auth__tabs"},[{name:"Login"},{name:"Register"}].map((function(e,t){return c.a.createElement("p",{key:e.name,className:l===t?"auth__tab active":"auth__tab",onClick:function(){!function(e,t){"Login"===e?(r("loginForm"),i(t)):"Register"===e&&(r("registerForm"),i(t))}(e.name,t)}},e.name)})))),"loginForm"===a&&c.a.createElement(Q,null),"registerForm"===a&&c.a.createElement(Y,null))))}),ee=(a(66),function(){var e=Object(l.g)(),t=c.a.useContext(L),a=T().request,n=c.a.useState({title:"",total:0}),r=Object(D.a)(n,2),s=r[0],i=r[1],m=function(e){i(Object(P.a)(Object(P.a)({},s),{},Object(X.a)({},e.target.name,e.target.value)))},u=function(){var n=Object(C.a)(y.a.mark((function n(c){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.preventDefault(),n.next=3,a("/api/sources/add","POST",Object(P.a)({},s),{Authorization:"Bearer ".concat(t.token)});case 3:e.push("/home/");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return c.a.createElement("div",{className:"page  create-sources"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"title-wrap"},c.a.createElement("h2",null,"\u041d\u043e\u0432\u044b\u0439 \u0441\u0447\u0435\u0442"),c.a.createElement(o.b,{className:"btn-add",to:"/home"},c.a.createElement("img",{className:"btn-add__icon",src:V.a,alt:""}))),c.a.createElement("img",{className:"page__icon",src:v.a,alt:""}),c.a.createElement("div",{className:"new-transaction"},c.a.createElement("div",{className:"new-transaction__row"},c.a.createElement("form",{onSubmit:u,className:"new-transaction__col"},c.a.createElement("input",{onChange:m,type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0447\u0451\u0442\u0430",name:"title",required:!0}),c.a.createElement("input",{onChange:m,type:"number",placeholder:"\u0421\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u043d\u0430 \u0441\u0447\u0435\u0442\u0443",name:"total",required:!0}),c.a.createElement("button",{type:"submit",className:"new-transaction__submit"},"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"))))))}),te=a(21),ae=a.n(te),ne=function(e){var t=e.categories,a=(void 0===t?[]:t).map((function(e){var t=e.title,a=e._id;return c.a.createElement("li",{key:a,className:"sources-item"},c.a.createElement("img",{className:"sources-item__icon",src:ae.a,alt:""}),c.a.createElement("h4",{className:"sources-item__title"},t),c.a.createElement(o.b,{to:"/categories/".concat(a),className:"new-transaction__btn"},c.a.createElement("img",{className:"new-transaction__icon",src:w.a,alt:""})))}));return c.a.createElement(c.a.Fragment,null,a)},ce=function(){var e=J(),t=e.data,a=e.isLoading,n=e.error;if(a)return c.a.createElement("p",{className:"loading"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...");if(n)return"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u0447\u0435\u0442\u043e\u0432: "+n.message;var r=t.length>5,s=0===t.length;return c.a.createElement("div",{className:"sources"},c.a.createElement("div",{className:"title-wrap"},c.a.createElement("h2",{className:"transaction__title"},"\u0412\u0430\u0448\u0438 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),c.a.createElement(o.b,{className:"btn-add",to:"/create-category"},"+")),s?c.a.createElement("p",null,"\u0412\u044b \u0435\u0449\u0451 \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"):c.a.createElement("ul",{className:N()({scroll:r,sources__list:!0})},c.a.createElement(ne,{categories:t})))},re=function(){return c.a.createElement("div",{className:"page  categoriesPage"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"page__inner"},c.a.createElement(ce,null))))},se=function(){var e=Object(l.g)(),t=c.a.useContext(L),a=T().request,r=Object(n.useState)(!1),s=Object(D.a)(r,2),i=s[0],m=s[1],u=Object(n.useState)(""),p=Object(D.a)(u,2),_=p[0],E=p[1],d=Object(n.useState)(""),b=Object(D.a)(d,2),f=b[0],N=b[1],g=Object(n.useState)(!1),v=Object(D.a)(g,2),h=v[0],w=v[1],O={title:f,operation:_},j=function(){var n=Object(C.a)(y.a.mark((function n(c){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.preventDefault(),""!==_){n.next=3;break}return n.abrupt("return",w(!0));case 3:return n.next=5,a("/api/categories/add","POST",Object(P.a)({},O),{Authorization:"Bearer ".concat(t.token)});case 5:e.push("/categories/");case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return c.a.createElement("div",{className:"page  create-sources"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"title-wrap"},c.a.createElement("h2",null,"\u041d\u043e\u0432\u0430\u044f \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),c.a.createElement(o.b,{className:"btn-add",to:"/categories"},c.a.createElement("img",{className:"btn-add__icon",src:V.a,alt:""}))),c.a.createElement("img",{className:"page__icon",src:ae.a,alt:""}),c.a.createElement("div",{className:"new-transaction"},c.a.createElement("div",{className:"new-transaction__row"},c.a.createElement("form",{onSubmit:j,className:"new-transaction__col"},c.a.createElement("input",{onChange:function(e){N(e.target.value)},type:"text",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",name:"title",required:!0}),c.a.createElement("div",{className:"create-sources__row"},c.a.createElement("h4",{className:"new-transaction__title"},"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"),c.a.createElement("div",{className:"create-sources__col"},c.a.createElement("span",{className:"new-transaction__value"},_),c.a.createElement("button",{type:"button",onClick:function(){m(!i)},className:"new-transaction__btn"},c.a.createElement("img",{className:"new-transaction__icon",src:U.a,alt:""}))),i&&c.a.createElement("ul",{className:"new-transaction__popup-list"},["\u0440\u0430\u0441\u0445\u043e\u0434\u044b","\u0434\u043e\u0445\u043e\u0434\u044b"].map((function(e,t){return c.a.createElement("li",{key:"".concat(e,"_").concat(t),className:"new-transaction__popup-item"},c.a.createElement("button",{onClick:function(){!function(e){E(e),m(!i)}(e)},className:"new-transaction__popup-btn"},e))})))),c.a.createElement("button",{className:"new-transaction__submit",type:"submit"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e")),h&&c.a.createElement("p",{className:"error"},"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f")))))},oe=a(22),le=a.n(oe),ie=a(27),me=a.n(ie),ue=a(28),pe=a.n(ue),_e=a(29),Ee=a.n(_e);le.a.fcRoot(me.a,pe.a,Ee.a);var de=function(e){var t=e.data,a={type:"bar3d",width:"100%",height:"400",dataFormat:"json",dataSource:{chart:{caption:"\u0420\u0430\u0441\u0445\u043e\u0434\u044b \u043f\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c",xAxisName:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",yAxisName:"\u0421\u0443\u043c\u043c\u0430 \u0432 \u0431\u0435\u043b.\u0440\u0443\u0431",theme:"fusion",useplotgradientcolor:"0"},data:(void 0===t?[]:t).map((function(e){return{label:e._id,value:e.sum}}))}};return c.a.createElement(le.a,a)};le.a.fcRoot(me.a,pe.a,Ee.a);var be=function(e){var t=e.data,a={type:"bar3d",width:"100%",height:"400",dataFormat:"json",dataSource:{chart:{caption:"\u0414\u043e\u0445\u043e\u0434\u044b \u043f\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f\u043c",xAxisName:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438",yAxisName:"\u0421\u0443\u043c\u043c\u0430 \u0432 \u0431\u0435\u043b.\u0440\u0443\u0431",theme:"fusion",palettecolors:"#23d2e2",useplotgradientcolor:"0"},data:(void 0===t?[]:t).map((function(e){return{label:e._id,value:e.sum}}))}};return c.a.createElement(le.a,a)};a(72);var fe=function(){var e=function(){var e=c.a.useContext(L),t=e.token,a=e.logout;return Object(S.c)("expenses",(function(){return fetch("/api/transaction/expenses",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.ok?e.json():a()})).catch((function(e){throw new Error(e)}))}))}(),t=e.data,a=e.isLoading,n=e.error,r=function(){var e=c.a.useContext(L),t=e.token,a=e.logout;return Object(S.c)("revenue",(function(){return fetch("/api/transaction/revenue",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.ok?e.json():a()})).catch((function(e){throw new Error(e)}))}))}(),s=r.data,o=r.isLoading,l=r.error;if(a)return c.a.createElement("p",{className:"load-statistics"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...");if(n)return"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445";if(o)return c.a.createElement("p",{className:"load-statistics"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...");if(l)return"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445";var i=0===t.length,m=0===s.length;return c.a.createElement("div",{className:"page  statisticsPage"},c.a.createElement("div",{className:"container"},c.a.createElement("h1",{className:"page__title"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"),c.a.createElement("div",{className:"page__inner"},i?c.a.createElement("p",null,"\u0415\u0449\u0451 \u043d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0440\u0430\u0441\u0445\u043e\u0434\u0430\u0445"):c.a.createElement(de,{data:t}),m?c.a.createElement("p",null,"\u0415\u0449\u0451 \u043d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043e \u0434\u043e\u0445\u043e\u0434\u0430\u0445"):c.a.createElement(be,{data:s}))))},Ne=function(e){var t=e.setIsOpenFilterList,a=e.fetchLinks,r=e.setIsNotFound,s=Object(n.useState)(!1),o=Object(D.a)(s,2),l=o[0],i=o[1],m=Object(n.useState)(!1),u=Object(D.a)(m,2),p=u[0],_=u[1],E=Object(n.useState)(!1),d=Object(D.a)(E,2),b=d[0],f=d[1],N=Object(n.useState)(""),g=Object(D.a)(N,2),v=g[0],h=g[1],w=Object(n.useState)(""),O=Object(D.a)(w,2),j=O[0],k=O[1],x=Object(n.useState)(""),A=Object(D.a)(x,2),y=A[0],C=A[1],S={operation:v,source:j,category:y},B={},L=J(),F=L.data,P=L.isLoading,z=L.error,T=I(),q=T.data,R=T.isLoading,Z=T.error;return P||R?"Loading...":z?"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u0447\u0435\u0442\u043e\u0432: "+z.message:Z?"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u0447\u0435\u0442\u043e\u0432: "+Z.message:c.a.createElement("div",{className:"new-transaction"},c.a.createElement("div",{className:"new-transaction__row"},c.a.createElement("h4",{className:"new-transaction__title"},"\u0422\u0438\u043f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438:"),c.a.createElement("div",{className:"new-transaction__col"},c.a.createElement("span",{className:"new-transaction__value"},v),c.a.createElement("button",{onClick:function(){i(!l)},className:"new-transaction__btn"},c.a.createElement("img",{className:"new-transaction__icon",src:U.a,alt:""}))),l&&c.a.createElement("ul",{className:"new-transaction__popup-list"},["\u0440\u0430\u0441\u0445\u043e\u0434\u044b","\u0434\u043e\u0445\u043e\u0434\u044b"].map((function(e,t){return c.a.createElement("li",{key:"".concat(e,"_").concat(t),className:"new-transaction__popup-item"},c.a.createElement("button",{onClick:function(){!function(e){h(e),i(!l)}(e)},className:"new-transaction__popup-btn"},e))})))),c.a.createElement("div",{className:"new-transaction__row"},c.a.createElement("h4",{className:"new-transaction__title"},"\u0421\u0447\u0451\u0442:"),c.a.createElement("div",{className:"new-transaction__col"},c.a.createElement("span",{className:"new-transaction__value"},j),c.a.createElement("button",{onClick:function(){_(!p)},className:"new-transaction__btn"},c.a.createElement("img",{className:"new-transaction__icon",src:U.a,alt:""}))),p&&c.a.createElement("ul",{className:"new-transaction__popup-list"},q.map((function(e,t){var a=e.title;return c.a.createElement("li",{key:"".concat(a,"_").concat(t),className:"new-transaction__popup-item"},c.a.createElement("button",{onClick:function(){k(a),_(!p)},className:"new-transaction__popup-btn"},a))})))),c.a.createElement("div",{className:"new-transaction__row"},c.a.createElement("h4",{className:"new-transaction__title"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:"),c.a.createElement("div",{className:"new-transaction__col"},c.a.createElement("span",{className:"new-transaction__value"},y),c.a.createElement("button",{onClick:function(){f(!b)},className:"new-transaction__btn"},c.a.createElement("img",{className:"new-transaction__icon",src:U.a,alt:""}))),b&&c.a.createElement("ul",{className:"new-transaction__popup-list"},F.map((function(e,t){return c.a.createElement("li",{key:"".concat(e.title,"_").concat(t),className:"new-transaction__popup-item"},c.a.createElement("button",{onClick:function(){var t;t=e.title,C(t),f(!b)},className:"new-transaction__popup-btn"},e.title))})))),c.a.createElement("div",{className:"new-transaction__row  filter-btns"},c.a.createElement("button",{onClick:function(){t(!0),a(B),h(""),k(""),C(""),r(!1)},className:"new-transaction__submit",type:"button"},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"),c.a.createElement("button",{onClick:function(){t(!0),a(S)},className:"new-transaction__submit",type:"button"},"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c")))};a(73);var ge=function(){var e=c.a.useState(!1),t=Object(D.a)(e,2),a=t[0],n=t[1],r=c.a.useState(!1),s=Object(D.a)(r,2),o=s[0],l=s[1],i=c.a.useState([]),m=Object(D.a)(i,2),u=m[0],p=m[1],E=function(){var e=c.a.useContext(L),t=e.token,a=e.logout;return Object(S.c)("transactions-all",(function(){return fetch("/api/transaction/all",{headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.ok?e.json():a()})).catch((function(e){throw new Error(e)}))}))}(),d=E.data,b=E.isLoading,f=E.error,g=c.a.useContext(L).token,v=function(){var e=Object(C.a)(y.a.mark((function e(t){var a,n,c,r,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object.entries(t).filter((function(e){var t=Object(D.a)(e,2);t[0];return""!==t[1]})),n=Object.fromEntries(a),c=Object.keys(n).map((function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(n[e]))})).join("&"),e.next=6,fetch("/api/transaction/category/?"+c,{headers:{Authorization:"Bearer ".concat(g)}});case 6:return r=e.sent,e.next=9,r.json();case 9:0===(s=e.sent).length?l(!0):p(s),e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),new Error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}();return b?c.a.createElement("p",{className:"load-statistics"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):f?"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0432\u0441\u0435\u0445 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0439":c.a.createElement("div",{className:"page  allTransactionsPage"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"page__inner"},c.a.createElement("div",{className:"all-transactions"},a?c.a.createElement(c.a.Fragment,null,o?c.a.createElement("p",null,"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"):c.a.createElement("div",null,c.a.createElement("ul",{className:N()({transactions__list:!0,scroll:u.length>5})},c.a.createElement(_,{transactions:u})))):c.a.createElement("ul",{className:N()({transactions__list:!0,scroll:d.length>5})},c.a.createElement(_,{transactions:d}))),c.a.createElement("div",{className:"allTransactionsPage__filter-wrap"},c.a.createElement("div",{className:"title-wrap"},c.a.createElement("h2",null,"\u0424\u0438\u043b\u044c\u0442\u0440")),c.a.createElement(Ne,{setIsOpenFilterList:n,fetchLinks:v,setIsNotFound:l})))))},ve=a(30),he=a.n(ve);var we=function(){var e=c.a.useContext(L),t=T().request,a=Object(l.g)(),n=Object(l.h)().id,r=function(e){var t=c.a.useContext(L),a=t.token,n=t.logout;return Object(S.c)("source",(function(){return fetch("/api/sources/".concat(e),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.ok?e.json():n()})).catch((function(e){throw new Error(e)}))}))}(n),s=r.data,o=r.isLoading,i=r.error,m=c.a.useState(!1),u=Object(D.a)(m,2),p=u[0],_=u[1],E=c.a.useState(!1),d=Object(D.a)(E,2),b=d[0],f=d[1],N=c.a.useState(""),g=Object(D.a)(N,2),h=g[0],w=g[1],O=function(){var e=c.a.useContext(L),t=e.token,a=e.logout;return Object(S.b)((function(e){return fetch("/api/sources/delete/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.ok?e.data:a()})).catch((function(e){throw new Error(e)}))}))}(),j=Object(D.a)(O,1)[0],k=function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(t),a.push("/home/");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var c=Object(C.a)(y.a.mark((function c(r){return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),c.next=3,t("/api/sources/edit","POST",{newTitleSource:h,sourceId:n},{Authorization:"Bearer ".concat(e.token)});case 3:a.push("/home/");case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return o?c.a.createElement("p",{className:"load-statistics"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):i?"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u0447\u0435\u0442\u043e\u0432: "+i.message:c.a.createElement("div",{className:"page  detailSourcePage"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"page__inner"},c.a.createElement("form",{className:"sources-item",onSubmit:x},c.a.createElement("img",{className:"sources-item__icon",src:v.a,alt:""}),b?c.a.createElement("input",{onChange:function(e){!function(e){w(e.target.value)}(e)},className:"sources-item__input",type:"text",placeholder:s.title,value:h,required:!0}):c.a.createElement("h4",{className:"sources-item__title"},s.title),c.a.createElement("div",{className:"sources-item__total"},s.total," \u0440\u0443\u0431"),b?c.a.createElement("button",{className:"new-transaction__btn",type:"submit"},"\u043e\u043a"):c.a.createElement("button",{onClick:function(){_(!p)},className:"new-transaction__btn",type:"button"},c.a.createElement("img",{className:"new-transaction__icon",src:he.a,alt:""})),p&&c.a.createElement("ul",{className:"new-transaction__popup-list"},c.a.createElement("li",{className:"new-transaction__popup-item"},c.a.createElement("button",{onClick:function(){k(n)},className:"new-transaction__popup-btn",type:"button"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),c.a.createElement("li",{className:"new-transaction__popup-item"},c.a.createElement("button",{onClick:function(){f(!b),_(!p)},className:"new-transaction__popup-btn"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")))))))};var Oe=function(){var e=c.a.useContext(L),t=T().request,a=Object(l.g)(),n=Object(l.h)().id,r=c.a.useState(!1),s=Object(D.a)(r,2),o=s[0],i=s[1],m=function(e){var t=c.a.useContext(L),a=t.token,n=t.logout;return Object(S.c)("category",(function(){return fetch("/api/categories/".concat(e),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){return e.ok?e.json():n()})).catch((function(e){throw new Error(e)}))}))}(n),u=m.data,p=m.isLoading,_=m.error,E=c.a.useState(!1),d=Object(D.a)(E,2),b=d[0],f=d[1],N=c.a.useState(""),g=Object(D.a)(N,2),v=g[0],h=g[1],w=function(){var e=c.a.useContext(L),t=e.token,a=e.logout;return Object(S.b)((function(e){return fetch("/api/categories/delete/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.ok?e.data:a()})).catch((function(e){throw new Error(e)}))}))}(),O=Object(D.a)(w,1)[0],j=function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(t),a.push("/categories/");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var c=Object(C.a)(y.a.mark((function c(r){return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),c.next=3,t("/api/categories/edit","POST",{newTitleCategory:v,categoryId:n},{Authorization:"Bearer ".concat(e.token)});case 3:a.push("/categories/");case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}();return p?c.a.createElement("p",{className:"load-statistics"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):_?"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u0447\u0435\u0442\u043e\u0432: "+_.message:c.a.createElement("div",{className:"page  detailCategoryPage"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"page__inner"},c.a.createElement("form",{className:"sources-item",onSubmit:k},c.a.createElement("img",{className:"sources-item__icon",src:ae.a,alt:""}),b?c.a.createElement("input",{onChange:function(e){!function(e){h(e.target.value)}(e)},className:"sources-item__input",type:"text",placeholder:u.title,value:v,required:!0}):c.a.createElement("h4",{className:"sources-item__title"},u.title),b?c.a.createElement("button",{className:"new-transaction__btn",type:"submit"},"\u043e\u043a"):c.a.createElement("button",{onClick:function(){i(!o)},className:"new-transaction__btn",type:"button"},c.a.createElement("img",{className:"new-transaction__icon",src:he.a,alt:""})),o&&c.a.createElement("ul",{className:"new-transaction__popup-list"},c.a.createElement("li",{className:"new-transaction__popup-item"},c.a.createElement("button",{onClick:function(){j(n)},className:"new-transaction__popup-btn",type:"button"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),c.a.createElement("li",{className:"new-transaction__popup-item"},c.a.createElement("button",{onClick:function(){f(!b),i(!o)},className:"new-transaction__popup-btn"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")))))))},je=(a(74),function(){var e=Object(l.g)(),t=Object(n.useContext)(L);return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"header__inner"},c.a.createElement("div",{className:"logo  header__logo"},c.a.createElement("img",{className:"logo__img",src:G.a,alt:"logo"}),c.a.createElement("h1",{className:"logo__text"},"Finance")),c.a.createElement("div",{className:"header__email"},t.email),c.a.createElement("div",{className:"header__actions"},c.a.createElement("div",{className:"header__actions-item"},c.a.createElement("a",{className:"header__logout",href:"/",onClick:function(a){a.preventDefault(),t.logout(),e.push("/")}},"\u0412\u044b\u0439\u0442\u0438"))))))}),ke=(a(75),a(43)),xe=a.n(ke),Ae=a(44),ye=a.n(Ae),Ce=a(45),Se=a.n(Ce),Be=function(){return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"footer__inner"},c.a.createElement("div",{className:"footer__btns"},c.a.createElement(o.b,{className:"footer__btn",to:"/home"},c.a.createElement("img",{className:"footer__btn-icon",src:xe.a,alt:""}),c.a.createElement("span",{className:"footer__btn-title"},"\u0413\u043b\u0430\u0432\u043d\u0430\u044f")),c.a.createElement(o.b,{className:"footer__btn",to:"/categories"},c.a.createElement("img",{className:"footer__btn-icon",src:Se.a,alt:""}),c.a.createElement("span",{className:"footer__btn-title"},"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438")),c.a.createElement(o.b,{className:"footer__btn",to:"/statistics"},c.a.createElement("img",{className:"footer__btn-icon",src:ye.a,alt:""}),c.a.createElement("span",{className:"footer__btn-title"},"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"))),c.a.createElement(o.b,{className:"footer__btn  footer__create-btn",to:"/create"},"+"))))},Le={queries:{refetchOnWindowFocus:!1}};var Ie=function(){var e=function(){var e=Object(n.useState)(null),t=Object(D.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(D.a)(r,2),o=s[0],l=s[1],i=Object(n.useState)(null),m=Object(D.a)(i,2),u=m[0],p=m[1],_=Object(n.useState)(null),E=Object(D.a)(_,2),d=E[0],b=E[1],f=Object(n.useCallback)((function(e,t,a){c(e),p(t),b(a),localStorage.setItem("userData",JSON.stringify({userId:t,token:e,email:a}))}),[]),N=Object(n.useCallback)((function(){c(null),p(null),localStorage.removeItem("userData")}),[]);return Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("userData"));e&&e.token&&f(e.token,e.userId,e.email),l(!0)}),[f]),{login:f,logout:N,token:a,userId:u,ready:o,email:d}}(),t=e.token,a=e.login,r=e.logout,s=e.userId,i=e.email,m=!!t,u=function(e){return e?c.a.createElement(l.d,null,c.a.createElement(l.b,{path:"/home",exact:!0},c.a.createElement(F,null)),c.a.createElement(l.b,{path:"/create"},c.a.createElement(M,null)),c.a.createElement(l.b,{path:"/create-source"},c.a.createElement(ee,null)),c.a.createElement(l.b,{path:"/create-category"},c.a.createElement(se,null)),c.a.createElement(l.b,{path:"/statistics"},c.a.createElement(fe,null)),c.a.createElement(l.b,{path:"/transactions"},c.a.createElement(ge,null)),c.a.createElement(l.b,{path:"/categories",exact:!0},c.a.createElement(re,null)),c.a.createElement(l.b,{path:"/sources/:id"},c.a.createElement(we,null)),c.a.createElement(l.b,{path:"/categories/:id",exact:!0},c.a.createElement(Oe,null)),c.a.createElement(l.a,{to:"/home"})):c.a.createElement(l.d,null,c.a.createElement(l.b,{path:"/",exact:!0},c.a.createElement($,null)),c.a.createElement(l.a,{to:"/"}))}(m);return c.a.createElement(S.a,{config:Le},c.a.createElement(L.Provider,{value:{token:t,login:a,logout:r,userId:s,isAuthenticated:m,email:i}},c.a.createElement(o.a,null,m&&c.a.createElement(je,null),c.a.createElement("div",{className:"app"},u),m&&c.a.createElement(Be,null))))};s.a.render(c.a.createElement(Ie,null),document.getElementById("root"))}],[[47,1,2]]]);
//# sourceMappingURL=main.ae027536.chunk.js.map